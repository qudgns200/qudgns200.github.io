I"ñ<p>TIL(20191024) <span class="red">TCP/IP echo Server</span>
<br /></p>

<blockquote>
  <ol>
    <li>Server : Java</li>
    <li>Client : C#</li>
    <li>Description : Itâ€™s simple sample for using TCP/IP Network!!</li>
  </ol>
</blockquote>

<ol>
  <li>Server : java
```java
import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.io.OutputStreamWriter;
import java.io.PrintWriter;
import java.net.ServerSocket;
import java.net.Socket;</li>
</ol>

<p>public class MainServer {</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public static void main(String[] args) {
	// TODO Auto-generated method stub
	ServerSocket serverSocket = null;
	Socket socket = null;
	try {
		// Instance serverSocket(port :8080)
		serverSocket = new ServerSocket(8080);
		System.out.println("ì„œë²„ê°€ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤.");
	} catch (Exception e) {
		// TODO: handle exception
		e.printStackTrace();
	}

	InputStream is;
	OutputStream os;

	try {
		System.out.println("ì—°ê²° ìš”ì²­ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.");
		// Allow the connect of client
		socket = serverSocket.accept();
		System.out.println(socket.getInetAddress() + " ë¡œë¶€í„° ì—°ê²° ìš”ì²­");
		
		// Get client's stream for sending message
		os = socket.getOutputStream();
		PrintWriter pw = new PrintWriter(new OutputStreamWriter(os),true);
		
		// Sending a data to remote socket
		pw.println("Success connection to server");
		System.out.println("ë°ì´í„° ì „ì†¡ ì™„ë£Œ");
		
		while (true) {
			// Save the message of client for return
			is = socket.getInputStream();
			BufferedReader br = new BufferedReader(new InputStreamReader(is));
			
			String answer = br.readLine();
			
			if(answer=="exit") break;
			
			pw.println("ECHO : " + answer);
			System.out.println("ì¬ì „ì†¡_Echo : " + answer);
		}
		is.close();
		os.close();
		socket.close();
		serverSocket.close();
	} catch (Exception e) {
		// TODO: handle exception
		e.printStackTrace();
	}
} }
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2. C#
```cs
using System;
using System.IO;
using System.Net.Sockets;

namespace Calculator
{
    class Program
    {
        static void Main(string[] args)
        {
            TcpClient client = null;

            try
            {
                String rMessage;
                String sMessage;

                // Instance a TCP Connection
                client = new TcpClient();
                client.Connect("localhost", 8080);

                // return networkStrem of client for send and receive data
                NetworkStream ns = client.GetStream();
                StreamReader sr = new StreamReader(ns);
                StreamWriter sw = null;

                // Receive a message from server
                rMessage = sr.ReadLine();
                Console.WriteLine(rMessage);

                while(true)
                {
                    Console.Write("ë©”ì„¸ì§€ ì…ë ¥ : ");
                    sMessage = Console.ReadLine();

                    // Send the message on a stream
                    sw = new StreamWriter(ns);
                    sw.WriteLine(sMessage); 
                    sw.Flush();

                    if (sMessage == "exit") break;

                    // Receivce the message from server(echo)
                    sr = new StreamReader(ns);
                    rMessage = sr.ReadLine();
                    Console.WriteLine(rMessage);
                }
                sr.Close();
                sw.Close();
                ns.Close();
                client.Close();
            }
            catch(Exception e)
            {
                Console.WriteLine(e.ToString());
            }
        }
    }
}
</code></pre></div></div>
:ET